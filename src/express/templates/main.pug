extends layout.pug
include partials/categories.pug
include partials/articles-list.pug

block content

  main.main-page
    h1.visually-hidden –ì–ª–∞–≤–Ω–∞—è —Å—Ç—Ä–∞–Ω–∏—Ü–∞ –ª–∏—á–Ω–æ–≥–æ –±–ª–æ–≥–∞ –¢–∏–ø–æ—Ç–µ–∫–∞
    p
      | –≠—Ç–æ –ø—Ä–∏–≤–µ—Ç—Å—Ç–≤–µ–Ω–Ω—ã–π —Ç–µ–∫—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –≤–ª–∞–¥–µ–ª–µ—Ü –±–ª–æ–≥–∞ –º–æ–∂–µ—Ç –≤—ã–±—Ä–∞—Ç—å, —á—Ç–æ–±—ã –æ–ø–∏—Å–∞—Ç—å —Å–µ–±—è üëè
    if !articles || articles.length === 0
      .main-page__empty-wrapper
          p.main-page__empty-text
            | –ó–¥–µ—Å—å –ø–æ–∫–∞ –ø—É—Å—Ç–æ!
    else
      +categories(categories)
      .main-page__section-flex
        section.main-page__hot.hot
          h2(class=`${mostDiscussedArticles.length > 0 ? 'hot__name' : 'hot__name hot__name--empty'} `) –°–∞–º–æ–µ –æ–±—Å—É–∂–¥–∞–µ–º–æ–µ&nbsp;
            span.hot__icon.hot__icon--fire
          if mostDiscussedArticles.length > 0
            ul.hot__list
              each article in mostDiscussedArticles
                li.hot__list-item
                  a.hot__list-link(href=`/articles/${article.id}`)= truncateText(article.announce, 100)
                    sup.hot__link-sup= ` ${article.commentsCount}`
          else
            p.hot__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
        section.main-page__last.last
          h2.last__name
            | –ü–æ—Å–ª–µ–¥–Ω–∏–µ –∫–æ–º–º–µ–Ω—Ç–∞—Ä–∏–∏&nbsp;
            span.last__icon.last__icon--cloud
          if lastComments.length > 0
            ul.last__list
              each comment in lastComments
                li.last__list-item
                  img.last__list-image(src=`img/${comment.users.avatar}` width='20' height='20' alt='–ê–≤–∞—Ç–∞—Ä –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è')
                  b.last__list-name= `${comment.users.firstname} ${comment.users.lastname}`
                  a.last__list-link(href=`/articles/${comment.articleId}/#comments`)= truncateText(comment.text, 100)
          else
            p.hot__empty –ó–¥–µ—Å—å –ø–æ–∫–∞ –Ω–∏—á–µ–≥–æ –Ω–µ—Ç...
      section.main-page__list.preview
        h2.visually-hidden –°–ø–∏—Å–æ–∫ –ø—Ä–µ–≤—å—é —Å—Ç–∞—Ç–µ–π

        ul.preview__list
          each article in articles
            +articles-list(article)

